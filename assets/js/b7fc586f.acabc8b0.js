"use strict";(self.webpackChunkk_8_s_god=self.webpackChunkk_8_s_god||[]).push([[6288],{17029:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>s,contentTitle:()=>t,default:()=>o,frontMatter:()=>r,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"dpdk/\u6293\u5305","title":"\u6293\u5305","description":"dpdk\u9a71\u52a8","source":"@site/docs/dpdk/\u6293\u5305.md","sourceDirName":"dpdk","slug":"/dpdk/\u6293\u5305","permalink":"/blog/docs/dpdk/\u6293\u5305","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/dpdk/\u6293\u5305.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u4ea4\u53c9\u7f16\u8bd1","permalink":"/blog/docs/dpdk/\u4ea4\u53c9\u7f16\u8bd1"},"next":{"title":"\u7528\u6237\u6001\u9a71\u52a8\uff08UIO/VFIO\uff09","permalink":"/blog/docs/dpdk/\u7528\u6237\u6001\u9a71\u52a8\uff08UIOVFIO\uff09"}}');var i=d(74848),c=d(28453);const r={},t="\u6293\u5305",s={},a=[{value:"dpdk\u9a71\u52a8",id:"dpdk\u9a71\u52a8",level:2},{value:"nxp",id:"nxp",level:3},{value:"x86",id:"x86",level:3},{value:"\u975edpdk\u9a71\u52a8",id:"\u975edpdk\u9a71\u52a8",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u6293\u5305",children:"\u6293\u5305"})}),"\n",(0,i.jsx)(n.h2,{id:"dpdk\u9a71\u52a8",children:"dpdk\u9a71\u52a8"}),"\n",(0,i.jsx)(n.h3,{id:"nxp",children:"nxp"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'export CROSS=aarch64-linux-gnu-\nmake config T=arm64-dpaa2-linuxapp-gcc\nmake -j8 T=arm64-dpaa-linuxapp-gcc CONFIG_RTE_LIBRTE_PMD_PCAP=y CONFIG_RTE_LIBRTE_PDUMP=y EXTRA_LDFLAGS="-L/opt/dys/install/lib" EXTRA_CFLAGS="-I/opt/dys/install/include" CONFIG_RTE_KNI_KMOD=n CONFIG_RTE_EAL_IGB_UIO=n install\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u7f16\u8bd1\u5b8c\u6210\u540e\u5728arm64-dpaa-linuxapp-gcc\u76ee\u5f55\u4e0b\u751f\u6210\u5e93\u548c\u4e8c\u8fdb\u5236\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"x86",children:"x86"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"l3fwd"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528l3fd\u6765\u5f53primary\u8fdb\u7a0b\uff0c\u4f46\u662f\u9700\u8981\u505a\u4e9b\u5c0f\u4fee\u6539\uff0c\u5728rte_eal_init()\u540e\uff0c\u521d\u59cb\u5316pdump\u6846\u67b6\uff0c\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#ifdef RTE_LIBRTE_PDUMP\n\t/* initialize packet capture framework */\n\trte_pdump_init(NULL);\n#endif\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"./l3fwd -c 0x3 -n 4 -- -P -p 0x1 --config=\"(0,0,1)\"\n./dpdk-pdump -- --pdump 'port=0,queue=*,rx-dev=./rx.pcap'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u975edpdk\u9a71\u52a8",children:"\u975edpdk\u9a71\u52a8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/the-tcpdump-group/tcpdump.git\ngit clone https://github.com/the-tcpdump-group/libpcap.git\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"libpcap"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"export CC=aarch64-linux-gnu-gcc\nmkdir build\ncd build\n../configure --prefix=/opt/dys/install --host=arm-linux-gnueabihf --with-pcap=linux\nmake -j8\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"tcpdump"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"export CC=aarch64-linux-gnu-gcc\nmkdir build\ncd build\n../configure --host=arm-linux-gnueabihf\nmake -j8\n"})})]})}function o(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},28453:(e,n,d)=>{d.d(n,{R:()=>r,x:()=>t});var l=d(96540);const i={},c=l.createContext(i);function r(e){const n=l.useContext(c);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),l.createElement(c.Provider,{value:n},e.children)}}}]);