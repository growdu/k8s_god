"use strict";(self.webpackChunkk_8_s_god=self.webpackChunkk_8_s_god||[]).push([[1810],{28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>i});var s=t(96540);const p={},r=s.createContext(p);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(p):e.components||p:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},49581:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>a,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"vpp/fastup\u9002\u914dptp\u65b9\u6848","title":"vpp\u9002\u914dptp\u65b9\u6848","description":"vpp\u4e3b\u8981\u57285G\u5c0f\u57fa\u7ad9\u4fa7\u57fa\u4e8edpdk\u7528\u4e8e\u6536\u53d1\u5305\u5904\u7406\u3002\u800c\u4e2d\u56fd\u79fb\u52a8\u5bf9\u57fa\u7ad9\u4fa7\u7684ptp\u534f\u8bae\u5b9e\u73b0\u8981\u6c42\u5982\u4e0b\uff1a","source":"@site/docs/vpp/fastup\u9002\u914dptp\u65b9\u6848.md","sourceDirName":"vpp","slug":"/vpp/fastup\u9002\u914dptp\u65b9\u6848","permalink":"/blog/docs/vpp/fastup\u9002\u914dptp\u65b9\u6848","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/vpp/fastup\u9002\u914dptp\u65b9\u6848.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"fastgtpu\u63d2\u4ef6\u52a0\u8f7d","permalink":"/blog/docs/vpp/fastup\u63d2\u4ef6\u52a0\u8f7d"},"next":{"title":"fatsup cpu\u95f4\u8f6c\u53d1\u6d4b\u8bd5\u62a5\u544a","permalink":"/blog/docs/vpp/fatsup cpu\u95f4\u8f6c\u53d1\u6d4b\u8bd5\u62a5\u544a"}}');var p=t(74848),r=t(28453);const l={},i="vpp\u9002\u914dptp\u65b9\u6848",c={},d=[{value:"\u5b9e\u73b0",id:"\u5b9e\u73b0",level:2},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"reference",id:"reference",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.header,{children:(0,p.jsx)(n.h1,{id:"vpp\u9002\u914dptp\u65b9\u6848",children:"vpp\u9002\u914dptp\u65b9\u6848"})}),"\n",(0,p.jsx)(n.p,{children:"vpp\u4e3b\u8981\u57285G\u5c0f\u57fa\u7ad9\u4fa7\u57fa\u4e8edpdk\u7528\u4e8e\u6536\u53d1\u5305\u5904\u7406\u3002\u800c\u4e2d\u56fd\u79fb\u52a8\u5bf9\u57fa\u7ad9\u4fa7\u7684ptp\u534f\u8bae\u5b9e\u73b0\u8981\u6c42\u5982\u4e0b\uff1a"}),"\n",(0,p.jsxs)(n.ul,{children:["\n",(0,p.jsx)(n.li,{children:"\u5e94\u652f\u6301OC\uff0c\u53ef\u9009\u652f\u6301BC"}),"\n",(0,p.jsx)(n.li,{children:"\u652f\u6301BMC\u72b6\u6001\u4fe1\u606f\u63d0\u53d6\uff0c\u4f46\u4e0d\u5f3a\u5236\u8981\u6c42\u652f\u6301\u72b6\u6001\u51b3\u7b56\u7b97\u6cd5\u548c\u9009\u6e90\u7b97\u6cd5"}),"\n",(0,p.jsx)(n.li,{children:"\u57fa\u7ad9\u8bbe\u5907\u5e94\u652f\u6301PTP\u7aef\u53e3\u5e94\u53ef\u8bbe\u7f6e\u4e3aEnable\u548cDisable\uff0c\u5e76\u5e94\u53ef\u914d\u7f6eSlave_Only\u529f\u80fd\u4f7f\u80fd\u548c\u4e0d\u4f7f\u80fd"}),"\n",(0,p.jsx)(n.li,{children:"PTP\u62a5\u6587\u5c01\u88c5\u5e94\u652f\u6301PTP over IEEE Std 802.3/Ethernet\u65b9\u5f0f\uff0c\u53ef\u9009\u652f\u6301 PTP over UDP over IPv4\u65b9\u5f0f\uff0c\u53ef\u9009\u652f\u6301VLAN\u529f\u80fd"}),"\n",(0,p.jsx)(n.li,{children:"\u652f\u6301\u7ec4\u64ad\uff0c\u5355\u64ad\u53ef\u9009\u652f\u6301"}),"\n",(0,p.jsx)(n.li,{children:"\u652f\u6301one-step\u6a21\u5f0f\uff0ctwo-step\u6a21\u5f0f\u53ef\u9009"}),"\n",(0,p.jsx)(n.li,{children:"\u652f\u6301\u652f\u6301E2E\u5ef6\u65f6\u673a\u5236\uff0cP2P\u5ef6\u65f6\u673a\u5236\u53ef\u9009"}),"\n",(0,p.jsx)(n.li,{children:"\u652f\u6301\u65f6\u5ef6\u4e0d\u5bf9\u79f0\u8865\u507f\u8bbe\u7f6e\u529f\u80fd\uff0c\u8865\u507f\u8303\u56f4+/-100us\uff0c\u8865\u507f\u6b65\u957f\u4e0d\u5927\u4e8e10ns"}),"\n"]}),"\n",(0,p.jsx)(n.p,{children:"\u5f53\u524ddpdk\u5b9e\u73b0\u4e86ptpclient\uff0c\u652f\u6301\u5982\u4e0b\u529f\u80fd\uff1a"}),"\n",(0,p.jsxs)(n.ul,{children:["\n",(0,p.jsx)(n.li,{children:"\u4ec5\u652f\u6301slaver"}),"\n",(0,p.jsx)(n.li,{children:"\u4ec5\u652f\u6301E2E"}),"\n",(0,p.jsx)(n.li,{children:"\u4ec5\u652f\u6301\u505aoc"}),"\n",(0,p.jsx)(n.li,{children:"\u4e0d\u652f\u6301BMC\u7b97\u6cd5\uff0c\u4f7f\u7528\u7b2c\u4e00\u4e2a\u53d1\u73b0\u7684master\u4f5c\u4e3a\u4e3b\u65f6\u949f"}),"\n",(0,p.jsx)(n.li,{children:"\u652f\u6301one-step\u6a21\u548ctwo-step\u6a21\u5f0f"}),"\n",(0,p.jsx)(n.li,{children:"\u652f\u6301\u7ec4\u64ad"}),"\n",(0,p.jsx)(n.li,{children:"PTP\u62a5\u6587\u5c01\u88c5\u4ec5\u652f\u6301PTP over IEEE Std 802.3/Ethernet\u65b9\u5f0f"}),"\n"]}),"\n",(0,p.jsx)(n.p,{children:"\u6309\u7167\u5f53\u524d\u529f\u80fd\u5206\u6790\u5bf9\u6bd4\uff0cptpclient\u80fd\u6ee1\u8db3\u4e2d\u56fd\u79fb\u52a8\u5bf9\u57fa\u7ad9\u4fa7\u7684ptp\u534f\u8bae\u5b9e\u73b0\u8981\u6c42\u3002"}),"\n",(0,p.jsx)(n.p,{children:"\u4ee5\u4e0b\u4e24\u4e2a\u914d\u7f6e\u8981\u6dfb\u52a0\u5b9e\u73b0\u4e5f\u8f83\u7b80\u5355\uff0c\u4e0d\u5f71\u54cd\u6838\u5fc3\u529f\u80fd\u3002"}),"\n",(0,p.jsxs)(n.ul,{children:["\n",(0,p.jsx)(n.li,{children:"\u57fa\u7ad9\u8bbe\u5907\u5e94\u652f\u6301PTP\u7aef\u53e3\u5e94\u53ef\u8bbe\u7f6e\u4e3aEnable\u548cDisable\uff0c\u5e76\u5e94\u53ef\u914d\u7f6eSlave_Only\u529f\u80fd\u4f7f\u80fd\u548c\u4e0d\u4f7f\u80fd"}),"\n",(0,p.jsx)(n.li,{children:"\u652f\u6301\u65f6\u5ef6\u4e0d\u5bf9\u79f0\u8865\u507f\u8bbe\u7f6e\u529f\u80fd\uff0c\u8865\u507f\u8303\u56f4+/-100us\uff0c\u8865\u507f\u6b65\u957f\u4e0d\u5927\u4e8e10ns"}),"\n"]}),"\n",(0,p.jsx)(n.h2,{id:"\u5b9e\u73b0",children:"\u5b9e\u73b0"}),"\n",(0,p.jsx)(n.p,{children:"\u57fa\u4e8evpp\u7684dpdk\u63d2\u4ef6\u5b9e\u73b0\uff0cdpdk\u5728\u6536\u5230\u62a5\u6587\u540e\uff0c\u5148\u8fc7\u6ee4ptp\u62a5\u6587\uff0c\u5bf9ptp\u62a5\u6587\u8fdb\u884c\u5904\u7406\uff0c\u5904\u7406\u5b8c\u6210\u540e\u518d\u4ea4\u7531\u4e0b\u4e00\u6b65\u6d41\u7a0b\u5904\u7406\u3002"}),"\n",(0,p.jsx)(n.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,p.jsxs)(n.p,{children:["\u5728dpdk\u63d2\u4ef6\u4e2d\u6dfb\u52a0",(0,p.jsx)(n.code,{children:" ptpclient 1"}),"\u6765\u5f00\u542f\u548c\u6dfb\u52a0ptpclient\uff0c\u4f7f\u7528",(0,p.jsx)(n.code,{children:"ptpclient-time-sync"}),"\u6765\u63a7\u5236\u662f\u5426\u540c\u6b65\u7cfb\u7edf\u65f6\u95f4\u3002\u914d\u7f6e\u6837\u4f8b\u5982\u4e0b\uff1a"]}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{className:"language-shell",children:"dpdk {\n        ## Change default settings for all intefaces\n        huge-dir /mnt/hugepages\n        no-pci\n        num-mem-channels 1\n        kni 1\n        ptpclient 1\n        dev default {\n                ## Number of receive queues, enables RSS\n                ## Default is 1\n                num-rx-queues 1\n                num-rx-desc 40960\n                #num-rx-desc 81920\n                rss { ipv4 }\n\n                ## Number of transmit queues, Default is equal\n                ## to number of worker threads or 1 if no workers treads\n                num-tx-queues 1\n                num-tx-desc 8192\n        }\n        proc-type primary\n        log-level 7\n}\n"})}),"\n",(0,p.jsx)(n.h2,{id:"reference",children:"reference"}),"\n",(0,p.jsx)(n.p,{children:"\u4e3b\u8981\u53c2\u8003\u6587\u6863\u4e3a1588v2\u65f6\u95f4\u63a5\u53e3\u89c4\u8303 QB-B-017-2010.doc\uff0c\u4ee5\u53cadpdk ptpclient\u6e90\u7801\u6837\u4f8b\u3002"})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,p.jsx)(n,{...e,children:(0,p.jsx)(o,{...e})}):o(e)}}}]);