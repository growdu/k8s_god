"use strict";(self.webpackChunkk_8_s_god=self.webpackChunkk_8_s_god||[]).push([[537],{7522:(e,p,n)=>{n.d(p,{A:()=>s});const s=n.p+"assets/images/ping_big-1f84769b2ea2710a04c48e221d486857.png"},18378:(e,p,n)=>{n.r(p),n.d(p,{assets:()=>r,contentTitle:()=>a,default:()=>o,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"vpp/vpp ip\u5206\u7247\u6d4b\u8bd5\u9a8c\u8bc1","title":"fastup ip\u5206\u7247\u6d4b\u8bd5\u9a8c\u8bc1","description":"fastup\u540e\u7eed\u9700\u8003\u8651\u5927\u5305\uff0c\u4f1a\u6d89\u53ca\u5230ip\u5206\u7247\uff0c\u9700\u8981\u5206\u6790\u9a8c\u8bc1fastup\u662f\u5426\u652f\u6301\u5206\u7247\u62a5\u6587\u91cd\u7ec4\uff0c\u4ee5\u53ca\u5927\u5305\u5206\u7247\u53d1\u9001\u3002","source":"@site/docs/vpp/vpp ip\u5206\u7247\u6d4b\u8bd5\u9a8c\u8bc1.md","sourceDirName":"vpp","slug":"/vpp/vpp ip\u5206\u7247\u6d4b\u8bd5\u9a8c\u8bc1","permalink":"/blog/docs/vpp/vpp ip\u5206\u7247\u6d4b\u8bd5\u9a8c\u8bc1","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/vpp/vpp ip\u5206\u7247\u6d4b\u8bd5\u9a8c\u8bc1.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"vpp buffer\u63a5\u53e3","permalink":"/blog/docs/vpp/vpp buffer\u63a5\u53e3"},"next":{"title":"vpp vector\u6307\u5317","permalink":"/blog/docs/vpp/vpp vector\u6307\u5317"}}');var i=n(74848),t=n(28453);const c={},a="fastup ip\u5206\u7247\u6d4b\u8bd5\u9a8c\u8bc1",r={},l=[{value:"\u6784\u9020\u5206\u7247\u62a5\u6587",id:"\u6784\u9020\u5206\u7247\u62a5\u6587",level:2},{value:"ip\u914d\u7f6e",id:"ip\u914d\u7f6e",level:3},{value:"ping\u5927\u5305",id:"ping\u5927\u5305",level:2},{value:"\u6293\u5305",id:"\u6293\u5305",level:3},{value:"\u56de\u653e\u5206\u7247\u62a5\u6587",id:"\u56de\u653e\u5206\u7247\u62a5\u6587",level:2},{value:"\u6293\u5305\u9a8c\u8bc1",id:"\u6293\u5305\u9a8c\u8bc1",level:2},{value:"\u7ed3\u8bba",id:"\u7ed3\u8bba",level:2}];function d(e){const p={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.header,{children:(0,i.jsx)(p.h1,{id:"fastup-ip\u5206\u7247\u6d4b\u8bd5\u9a8c\u8bc1",children:"fastup ip\u5206\u7247\u6d4b\u8bd5\u9a8c\u8bc1"})}),"\n",(0,i.jsx)(p.p,{children:"fastup\u540e\u7eed\u9700\u8003\u8651\u5927\u5305\uff0c\u4f1a\u6d89\u53ca\u5230ip\u5206\u7247\uff0c\u9700\u8981\u5206\u6790\u9a8c\u8bc1fastup\u662f\u5426\u652f\u6301\u5206\u7247\u62a5\u6587\u91cd\u7ec4\uff0c\u4ee5\u53ca\u5927\u5305\u5206\u7247\u53d1\u9001\u3002"}),"\n",(0,i.jsx)(p.h2,{id:"\u6784\u9020\u5206\u7247\u62a5\u6587",children:"\u6784\u9020\u5206\u7247\u62a5\u6587"}),"\n",(0,i.jsx)(p.p,{children:"\u6784\u9020\u7b80\u5355\u7684ping\u62a5\u6587\u4f5c\u4e3a\u5927\u5305\u53d1\u9001\u3002\u4f7f\u7528\u4e24\u5f20\u76f4\u8fde\u7684\u7f51\u53e3\u914d\u7f6eip\u6293\u53d6ping\u5305\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(p.h3,{id:"ip\u914d\u7f6e",children:"ip\u914d\u7f6e"}),"\n",(0,i.jsxs)(p.ul,{children:["\n",(0,i.jsx)(p.li,{children:"nxp\u7f51\u53e3"}),"\n"]}),"\n",(0,i.jsx)(p.pre,{children:(0,i.jsx)(p.code,{className:"language-shell",children:"ifconfig eth3 192.168.8.25/16\n"})}),"\n",(0,i.jsxs)(p.ul,{children:["\n",(0,i.jsx)(p.li,{children:"x86\u7aef"}),"\n"]}),"\n",(0,i.jsx)(p.pre,{children:(0,i.jsx)(p.code,{className:"language-shell",children:"ifconfig p4p1 192.168.8.24/16\n"})}),"\n",(0,i.jsx)(p.h2,{id:"ping\u5927\u5305",children:"ping\u5927\u5305"}),"\n",(0,i.jsx)(p.p,{children:"\u6b64\u5904\u4f7f\u75284800byte\u957f\u5ea6\u7684ping\u62a5\u6587\u3002"}),"\n",(0,i.jsx)(p.pre,{children:(0,i.jsx)(p.code,{className:"language-shell",children:"ping -s 4800 192.168.8.25\n"})}),"\n",(0,i.jsx)(p.h3,{id:"\u6293\u5305",children:"\u6293\u5305"}),"\n",(0,i.jsx)(p.p,{children:"\u5728x86\u7aef\u8fdb\u884c\u6293\u5305\uff0c\u6293\u5305\u547d\u4ee4\u5982\u4e0b"}),"\n",(0,i.jsx)(p.pre,{children:(0,i.jsx)(p.code,{className:"language-shell",children:"tcpdump -i p4p1 -vvv icmp -w ping_big.pcap\n"})}),"\n",(0,i.jsx)(p.p,{children:"\u6293\u5230\u5305\u540e\uff0c\u56e0\u4e3a\u62a5\u6587\u4e2d\u542b\u6709\u5bf9\u7aef\u56de\u590d\u7684\u62a5\u6587\uff0c\u56e0\u800c\u9700\u8981\u5c06\u6293\u5230\u7684\u5305\u8fdb\u884c\u8fc7\u6ee4\u3002"}),"\n",(0,i.jsx)(p.p,{children:(0,i.jsx)(p.img,{src:n(76375).A+"",width:"1593",height:"493"})}),"\n",(0,i.jsx)(p.p,{children:"\u4e0a\u56fe\u4e2d\u76844\u4e2a\u62a5\u6587\u4e3a\u4e00\u4e2aicmp\u62a5\u6587\u7684ping request\uff0c\u5c06\u8fd94\u4e2a\u62a5\u6587\u63d0\u53d6\u51fa\u6765\u4f5c\u4e3a\u6211\u4eec\u56de\u653e\u7684\u62a5\u6587\u3002\u6700\u7ec8\u63d0\u53d6\u51fa\u6765\u7684\u62a5\u6587\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(p.p,{children:(0,i.jsx)(p.img,{src:n(7522).A+"",width:"1305",height:"237"})}),"\n",(0,i.jsx)(p.h2,{id:"\u56de\u653e\u5206\u7247\u62a5\u6587",children:"\u56de\u653e\u5206\u7247\u62a5\u6587"}),"\n",(0,i.jsx)(p.p,{children:"\u56de\u653e\u5206\u7247\u62a5\u6587\u8fd8\u662f\u548c\u6b63\u5e38fastup\u6d4b\u8bd5\u60c5\u51b5\u4e00\u81f4\uff0cNXP\u7aef\u542f\u52a8fastup\uff0c\u914d\u7f6eip\u4e3a192.168.8.25/16\u4f5c\u4e3a\u63a5\u6536\u7aef\u3002x86\u673a\u5668\u4f5c\u4e3a\u53d1\u9001\u7aef\u56de\u653e\u4e0a\u6587\u4e2d\u6293\u53d6\u5230\u7684\u62a5\u6587\u3002"}),"\n",(0,i.jsx)(p.pre,{children:(0,i.jsx)(p.code,{className:"language-shell",children:"./app/x86_64-native-linuxapp-gcc/pktgen -c 0xe0000 --socket-mem 1024 -n 2 -- -P -m [18:19].0 -s 0:ping_big.pcap -T --crc-strip\n"})}),"\n",(0,i.jsx)("font",{color:"red",children:"\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u6536\u5230\u62a5\u6587\u7684\u5b8c\u6574\u6027\uff0c\u9700\u8981\u8bbe\u7f6epktgen\u7684\u53d1\u9001\u6a21\u5f0f\u4e3a\u53d1\u5305\u4e2a\u6570\uff0c\u4e14\u53d1\u5305\u4e2a\u6570\u9700\u4e3a4\u7684\u6574\u6570\u500d\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u53d1\u9001\u5f02\u5e38\u62a5\u6587\u3002"}),"\n",(0,i.jsx)(p.h2,{id:"\u6293\u5305\u9a8c\u8bc1",children:"\u6293\u5305\u9a8c\u8bc1"}),"\n",(0,i.jsx)(p.p,{children:"\u56e0\u4e3a\u4e24\u7aef\u90fd\u4f7f\u7528dpdk\u6536\u53d1\u5305\uff0c\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528tcpdump\u6293\u5305\uff0c\u5229\u7528fastup\u7684trace\u529f\u80fd\u6293\u5305\u8fdb\u884c\u9a8c\u8bc1\u3002\u6293\u5305\u547d\u4ee4\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(p.pre,{children:(0,i.jsx)(p.code,{className:"language-shell",children:"# \u67e5\u770btx \u6293\u5305\u72b6\u6001\nvpp# pcap tx trace status\nmax is 100 for any interface to file /tmp/vpe.pcap\npcap tx capture is off...\n# \u5f00\u542f\u6293\u5305\n# max 1000\u6307\u5b9a\u6700\u591a\u6293\u53d61000\u4e2a\u62a5\u6587\n# intfc intface_name \u6307\u5b9a\u6293\u53d6\u7684\u7f51\u53e3\n# file vppTest.pcap\u6307\u5b9a\u6293\u5305\u6587\u4ef6\u4fdd\u5b58\u65f6\u7684\u6587\u4ef6\u540d\uff0c\u6700\u7ec8\u4f1a\u4fdd\u5b58\u5728/tmp\u76ee\u5f55\u4e0b\nvpp# pcap tx trace on max 1000 intfc intface_name file vppTest.pcap\n# \u8bbe\u7f6e\u597d\u540e\u518d\u67e5\u770b\u4e00\u4e0btx\u7684\u6293\u5305\u72b6\u6001\nvpp# pcap tx trace status\nmax is 1000 for interface local0 to file /tmp/vppTest.pcap\npcap tx capture is on: 48 of 1000 pkts..\n# \u8fd0\u884c\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u6709\u62a5\u6587\u6536\u53d1\u5373\u53ef\u505c\u6b62\u6293\u5305\nvpp# pcap tx trace off\ncaptured 48 pkts...\nsaved to /tmp/vppTest.pcap...\n"})}),"\n",(0,i.jsx)(p.p,{children:"\u5b9e\u9645\u6293\u5305\u7ed3\u679c\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,i.jsx)(p.p,{children:(0,i.jsx)(p.img,{src:n(99044).A+"",width:"1268",height:"518"})}),"\n",(0,i.jsx)(p.h2,{id:"\u7ed3\u8bba",children:"\u7ed3\u8bba"}),"\n",(0,i.jsx)("font",{color:"red",children:"\u7ecf\u8fc7\u6d4b\u8bd5\u9a8c\u8bc1\uff0cfastup\u652f\u6301ip\u5206\u7247\u7ec4\u5305\u3002"})]})}function o(e={}){const{wrapper:p}={...(0,t.R)(),...e.components};return p?(0,i.jsx)(p,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,p,n)=>{n.d(p,{R:()=>c,x:()=>a});var s=n(96540);const i={},t=s.createContext(i);function c(e){const p=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(p):{...p,...e}}),[p,e])}function a(e){let p;return p=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(t.Provider,{value:p},e.children)}},76375:(e,p,n)=>{n.d(p,{A:()=>s});const s=n.p+"assets/images/icmp_frag-ae1b7ae0c2192da5b3b4d45f4ea0582c.png"},99044:(e,p,n)=>{n.d(p,{A:()=>s});const s=n.p+"assets/images/vpp_icmp_frag-7ab572014f7021b6b35aeb7cb7e21e0a.png"}}]);