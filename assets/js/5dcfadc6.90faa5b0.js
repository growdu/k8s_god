"use strict";(self.webpackChunkk_8_s_god=self.webpackChunkk_8_s_god||[]).push([[4419],{28453:(e,n,c)=>{c.d(n,{R:()=>i,x:()=>d});var o=c(96540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}},46489:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>a,frontMatter:()=>i,metadata:()=>o,toc:()=>t});const o=JSON.parse('{"id":"cluster/corosync/corosync-qdevice\u4f7f\u7528","title":"corosync-qdevice\u4f7f\u7528","description":"qdevice\u8981\u7528\u9014\u662f\u8ba9\u7fa4\u96c6\u80fd\u591f\u627f\u53d7\u5927\u4e8e\u6807\u51c6\u4ef2\u88c1\u89c4\u5219\u6240\u5141\u8bb8\u7684\u8282\u70b9\u6545\u969c\u6570\u91cf\u3002\u5728\u5206\u5e03\u5f0f\u4e00\u81f4\u6027\u534f\u8bae\u4e2d\uff0c\u57fa\u4e8e\u591a\u6570\u6d3equorum\u7684\u534f\u8bae\u89e3\u51b3\u8111\u88c2\u7b49\u95ee\u9898\uff0c\u56e0\u800c\u5f53\u96c6\u7fa4\u5b58\u6d3b\u8282\u70b9\u6302\u6b7b\u8d85\u8fc7\u4e00\u534a\u65f6\uff0c\u96c6\u7fa4\u5c06\u65e0\u6cd5\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u3002qdevice\u63d0\u4f9b\u4ef2\u88c1\u673a\u5236\uff0c\u4f7f\u96c6\u7fa4\u5728\u591a\u6570\u8282\u70b9\u6302\u6389\u540e\u4ecd\u7136\u80fd\u63d0\u4f9b\u670d\u52a1\u3002\u5178\u578b\u7684\u5982\u53cc\u8282\u70b9\u96c6\u7fa4\u53d1\u751f\u7f51\u7edc\u5206\u533a\u540e\uff0cqdevice\u53ef\u4ee5\u4f7f\u5176\u4e2d\u4e00\u53f0\u673a\u5668\u7ee7\u7eed\u63d0\u4f9b\u670d\u52a1\uff0c\u8fdb\u800c\u4fdd\u8bc1\u9ad8\u53ef\u7528\u3002","source":"@site/docs/cluster/corosync/corosync-qdevice\u4f7f\u7528.md","sourceDirName":"cluster/corosync","slug":"/cluster/corosync/corosync-qdevice\u4f7f\u7528","permalink":"/blog/docs/cluster/corosync/corosync-qdevice\u4f7f\u7528","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cluster/corosync/corosync-qdevice\u4f7f\u7528.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"corosync-qdevice\u4e2dffsplit\u4e0elsm\u7b97\u6cd5\u7684\u533a\u522b","permalink":"/blog/docs/cluster/corosync/corosync-qdevice\u4e2dffsplit\u4e0elsm\u7b97\u6cd5\u7684\u533a\u522b"},"next":{"title":"corosync-qdevice\u6e90\u7801\u9605\u8bfb","permalink":"/blog/docs/cluster/corosync/corosync-qdevice\u6e90\u7801\u9605\u8bfb"}}');var s=c(74848),r=c(28453);const i={},d="corosync-qdevice\u4f7f\u7528",l={},t=[{value:"\u57fa\u672c\u7ec4\u4ef6",id:"\u57fa\u672c\u7ec4\u4ef6",level:2},{value:"corosync",id:"corosync",level:3},{value:"qnetd",id:"qnetd",level:3},{value:"qdevice",id:"qdevice",level:3},{value:"\u7f16\u8bd1\u8fd0\u884c",id:"\u7f16\u8bd1\u8fd0\u884c",level:2},{value:"\u7f16\u8bd1",id:"\u7f16\u8bd1",level:3},{value:"\u8fd0\u884c",id:"\u8fd0\u884c",level:3},{value:"\u53cc\u8282\u70b9qnet\u4e0e\u4e09\u8282\u70b9corosync\u7684\u533a\u522b",id:"\u53cc\u8282\u70b9qnet\u4e0e\u4e09\u8282\u70b9corosync\u7684\u533a\u522b",level:2},{value:"votequorum\u4e0ecorosync-qdevice",id:"votequorum\u4e0ecorosync-qdevice",level:2},{value:"\u53cc\u8282\u70b9\u573a\u666f",id:"\u53cc\u8282\u70b9\u573a\u666f",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"corosync-qdevice\u4f7f\u7528",children:"corosync-qdevice\u4f7f\u7528"})}),"\n",(0,s.jsx)(n.p,{children:"qdevice\u8981\u7528\u9014\u662f\u8ba9\u7fa4\u96c6\u80fd\u591f\u627f\u53d7\u5927\u4e8e\u6807\u51c6\u4ef2\u88c1\u89c4\u5219\u6240\u5141\u8bb8\u7684\u8282\u70b9\u6545\u969c\u6570\u91cf\u3002\u5728\u5206\u5e03\u5f0f\u4e00\u81f4\u6027\u534f\u8bae\u4e2d\uff0c\u57fa\u4e8e\u591a\u6570\u6d3equorum\u7684\u534f\u8bae\u89e3\u51b3\u8111\u88c2\u7b49\u95ee\u9898\uff0c\u56e0\u800c\u5f53\u96c6\u7fa4\u5b58\u6d3b\u8282\u70b9\u6302\u6b7b\u8d85\u8fc7\u4e00\u534a\u65f6\uff0c\u96c6\u7fa4\u5c06\u65e0\u6cd5\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u3002qdevice\u63d0\u4f9b\u4ef2\u88c1\u673a\u5236\uff0c\u4f7f\u96c6\u7fa4\u5728\u591a\u6570\u8282\u70b9\u6302\u6389\u540e\u4ecd\u7136\u80fd\u63d0\u4f9b\u670d\u52a1\u3002\u5178\u578b\u7684\u5982\u53cc\u8282\u70b9\u96c6\u7fa4\u53d1\u751f\u7f51\u7edc\u5206\u533a\u540e\uff0cqdevice\u53ef\u4ee5\u4f7f\u5176\u4e2d\u4e00\u53f0\u673a\u5668\u7ee7\u7eed\u63d0\u4f9b\u670d\u52a1\uff0c\u8fdb\u800c\u4fdd\u8bc1\u9ad8\u53ef\u7528\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["QDevice \u548c QNetd \u4f1a\u53c2\u4e0e\u4ef2\u88c1\u51b3\u5b9a\u3002\u5728\u4ef2\u88c1\u65b9 ",(0,s.jsx)(n.code,{children:"corosync-qnetd"})," \u7684\u534f\u52a9\u4e0b\uff0c",(0,s.jsx)(n.code,{children:"corosync-qdevice"})," \u4f1a\u63d0\u4f9b\u4e00\u4e2a\u53ef\u914d\u7f6e\u7684\u6295\u7968\u6570\uff0c\u4ee5\u4f7f\u7fa4\u96c6\u53ef\u4ee5\u627f\u53d7\u5927\u4e8e\u6807\u51c6\u4ef2\u88c1\u89c4\u5219\u6240\u5141\u8bb8\u7684\u8282\u70b9\u6545\u969c\u6570\u91cf\u3002\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4e3a\u53cc\u8282\u70b9\u7fa4\u96c6\u90e8\u7f72 ",(0,s.jsx)(n.code,{children:"corosync-qnetd"})," \u548c ",(0,s.jsx)(n.code,{children:"corosync-qdevice"}),"\uff0c\u4f46\u5bf9\u4e8e\u6240\u542b\u8282\u70b9\u6570\u4e3a\u5076\u6570\u7684\u7fa4\u96c6\uff0c\u4e00\u822c\u4e5f\u5efa\u8bae\u4f7f\u7528 QNetd \u548c QDevice\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"\u57fa\u672c\u7ec4\u4ef6",children:"\u57fa\u672c\u7ec4\u4ef6"}),"\n",(0,s.jsx)(n.h3,{id:"corosync",children:"corosync"}),"\n",(0,s.jsx)(n.p,{children:"corosync\u63d0\u4f9b\u5206\u5e03\u5f0f\u4e00\u81f4\u6027\u534f\u8bae\u548c\u914d\u7f6e\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"qnetd",children:"qnetd"}),"\n",(0,s.jsx)(n.p,{children:"qnetd\u63d0\u4f9b\u4e0eqdevice\u901a\u4fe1\u7684\u7f51\u7edc\u670d\u52a1\u5668\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"qdevice",children:"qdevice"}),"\n",(0,s.jsxs)(n.p,{children:["\u6bcf\u4e2a\u7fa4\u96c6\u8282\u70b9\u4e0a\u4e0e Corosync \u4e00\u8d77\u8fd0\u884c\u7684 systemd \u670d\u52a1\uff08\u5b88\u62a4\u7a0b\u5e8f\uff09\u3002\u8fd9\u662f ",(0,s.jsx)(n.code,{children:"corosync-qnetd"})," \u7684\u5ba2\u6237\u7aef\u3002\u5176\u4e3b\u8981\u7528\u9014\u662f\u8ba9\u7fa4\u96c6\u80fd\u591f\u627f\u53d7\u5927\u4e8e\u6807\u51c6\u4ef2\u88c1\u89c4\u5219\u6240\u5141\u8bb8\u7684\u8282\u70b9\u6545\u969c\u6570\u91cf\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"QDevice \u53ef\u4ee5\u4e0e\u4e0d\u540c\u7684\u4ef2\u88c1\u65b9\u914d\u5408\u5de5\u4f5c\uff0c\u4f46\u76ee\u524d\u4ec5\u652f\u6301\u4e0e QNetd \u914d\u5408\u5de5\u4f5c\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u7f16\u8bd1\u8fd0\u884c",children:"\u7f16\u8bd1\u8fd0\u884c"}),"\n",(0,s.jsx)(n.h3,{id:"\u7f16\u8bd1",children:"\u7f16\u8bd1"}),"\n",(0,s.jsx)(n.p,{children:"qdevice\u4f9d\u8d56corosync\uff0c\u5728\u7f16\u8bd1qdevice\u524d\u5e94\u5148\u7f16\u8bd1corosync\u3002"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u4e0b\u8f7d\u6e90\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/corosync/corosync-qdevice.git\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u7f16\u8bd1"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd corosync-qdevice\n./autogen.sh\n./configure\nmake -j 8\nsudo make install\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u82e5\u7f16\u8bd1\u65f6\u627e\u4e0d\u5230libcorosync_common\u5e93\uff0c\u5219\u9700\u8981\u5bfc\u51fapkgconfig\u6587\u4ef6\u8def\u5f84\u5230PKG_CONFIG_PATH\uff0c\u5982\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'export PKG_CONFIG_PATH="/home/ha/code/corosync/pkgconfig"\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u7f16\u8bd1\u5b8c\u6210\u540e\u4f1a\u751f\u6210corosync-qnetd\u548ccorosync-qdevice\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"ha@ha-virtual-machine:~/code/corosync-qdevice$ ls install\nbin  etc  sbin  share  var\nha@ha-virtual-machine:~/code/corosync-qdevice$ ls install/bin/\ncorosync-qnetd  corosync-qnetd-certutil  corosync-qnetd-tool\nha@ha-virtual-machine:~/code/corosync-qdevice$ ls install/sbin/\ncorosync-qdevice  corosync-qdevice-net-certutil  corosync-qdevice-tool\nha@ha-virtual-machine:~/code/corosync-qdevice$ ls install/etc/\ncorosync  init.d\nha@ha-virtual-machine:~/code/corosync-qdevice$ ls install/etc/corosync/\nqdevice  qnetd\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u8fd0\u884c",children:"\u8fd0\u884c"}),"\n",(0,s.jsx)(n.p,{children:"corosync-qnetd\u53ef\u4ee5\u72ec\u7acb\u8fd0\u884c\uff0c\u540c\u65f6corosync-qdevice\u5728\u542f\u52a8\u65f6\u5019\u9700\u8981\u8fde\u63a5qnetd\uff0c\u56e0\u800c\u9700\u5148\u542f\u52a8corosync-qnetd\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u822c\u6211\u4eec\u4f7f\u7528\u975eroot\u7528\u6237\u8fd0\u884c\uff0c\u8fd0\u884c\u914d\u7f6e\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5148\u521b\u5efa\u975eroot\u7528\u6237\uff1b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'groupadd -r coroqnetd\nuseradd -r -g coroqnetd -d / -s /sbin/nologin -c "User for corosync-qnetd" coroqnetd\nchown -R coroqnetd:coroqnetd /etc/corosync/qnetd /var/run/corosync-qnetd\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5728/etc/corosync/qnetd/\u4e0b\u521b\u5efacorosync-qnetd.sysconfig\u5199\u4e0b\u5982\u4e0b\u5185\u5bb9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'# Corosync Qdevice Network daemon init script configuration file\n\n# COROSYNC_QNETD_OPTIONS specifies options passed to corosync-qnetd command\n# (default is no options).\n# See "man corosync-qnetd" for detailed descriptions of the options.\nCOROSYNC_QNETD_OPTIONS=""\n\n# COROSYNC_QNETD_RUNAS specifies user under which qnetd daemon should be running\n# (not set or empty is default and means "user who executes init script")\n# Make sure to set correct owner of directories /etc/corosync/qnetd and\n# /var/run/corosync-qnetd\n# This has no effect if systemd unit is used (you have to change unit file)\nCOROSYNC_QNETD_RUNAS="coroqnetd"\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u8fd0\u884cqnetd"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"/etc/init.d/corosync-qnetd start\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u53cc\u8282\u70b9qnet\u4e0e\u4e09\u8282\u70b9corosync\u7684\u533a\u522b",children:"\u53cc\u8282\u70b9qnet\u4e0e\u4e09\u8282\u70b9corosync\u7684\u533a\u522b"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"qnet\u4e3b\u8981\u4f5c\u4e3a\u7b2c\u4e09\u65b9\u4ef2\u88c1\uff0c\u914d\u5408qdevice\u6765\u63d0\u4f9b\u6295\u7968\u4ef2\u88c1\u670d\u52a1\uff0c\u4e0d\u5c5e\u4e8e\u96c6\u7fa4\u5185\u8282\u70b9\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u96c6\u7fa4\u8282\u70b9\u529f\u80fd\uff1b"}),"\n",(0,s.jsxs)(n.li,{children:["QDevice \u652f\u6301\u591a\u79cd\u4e0d\u540c\u7684\u7b97\u6cd5\uff0c\u800c\u8fd9\u4e9b\u7b97\u6cd5\u51b3\u5b9a\u7740\u5982\u4f55\u5206\u914d\u6295\u7968\u7684\u884c\u4e3a\uff0c\u5982\uff1a","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"FFSplit (\u201cfifty-fifty split\u201d) \u4e3a\u9ed8\u8ba4\u7b97\u6cd5\uff0c\u7528\u4e8e\u6240\u542b\u8282\u70b9\u6570\u4e3a\u5076\u6570\u7684\u7fa4\u96c6\u3002\u5982\u679c\u7fa4\u96c6\u5206\u88c2\u4e3a\u4e24\u4e2a\u76f8\u4f3c\u7684\u90e8\u5206\uff0c\u6b64\u7b97\u6cd5\u4f1a\u6839\u636e\u542f\u53d1\u68c0\u67e5\u7ed3\u679c\u548c\u5176\u4ed6\u56e0\u7d20\u4e3a\u5176\u4e2d\u4e00\u4e2a\u90e8\u5206\u63d0\u4f9b\u4e00\u4e2a\u6295\u7968"}),"\n",(0,s.jsx)(n.li,{children:"LMS (\u201clast man standing\u201d) \u5141\u8bb8\u4ec5\u5269\u7684\u90a3\u4e2a\u8282\u70b9\u770b\u5230 QNetd \u670d\u52a1\u5668\u4ee5\u83b7\u53d6\u6295\u7968\u3002\u56e0\u6b64\u6b64\u7b97\u6cd5\u9002\u7528\u4e8e\u53ea\u6709\u4e00\u4e2a\u6d3b\u52a8\u8282\u70b9\u5e94\u4fdd\u7559\u6cd5\u5b9a\u7968\u6570\u7684\u7fa4\u96c6"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u542f\u7528qdevice\u52a0qnet\u540e\uff0ccorosync\u91cc\u7684",(0,s.jsx)(n.code,{children:"last_man_standing"})," \u9009\u9879\uff08\u5373\u52a8\u6001\u4fee\u6539quorum\uff09\u4e0e\u5176\u4e0d\u517c\u5bb9\uff0c\u4f46qdevice\u5982\u4e0a\u63cf\u8ff0\u53ef\u4ee5\u9009\u62e9LMS\u7b97\u6cd5\u6765\u8fdb\u884c\u6295\u7968\uff1b"]}),"\n",(0,s.jsx)(n.li,{children:"qnet\u4e00\u822c\u9700\u8981\u72ec\u7acb\u4e8e\u4e3b\u96c6\u7fa4\uff0c\u4e0d\u8981\u4e0e corosync \u73af\u6216\u8005\u73af\u4f4d\u4e8e\u540c\u4e00\u4e2a\u7f51\u7edc\u7f51\u6bb5\uff0c\u4e00\u822c\u4e0d\u5728\u73b0\u6709\u96c6\u7fa4\u8282\u70b9\u4e2d\u8fd0\u884c\u5236\u88c1\u8bbe\u5907\uff1b"}),"\n",(0,s.jsx)(n.li,{children:"\u591a\u4e2a\u96c6\u7fa4\u53ef\u4ee5\u5171\u7528\u4e00\u4e2aqnet\u4ef2\u88c1\u670d\u52a1\uff0c\u4e14\u4e0d\u540c\u7684\u96c6\u7fa4\u53ef\u4ee5\u914d\u7f6e\u4e0d\u540c\u6295\u7968\u7b97\u6cd5\uff1b"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"corosync1.0\u7248\u672c\u6ca1\u6709\u6295\u7968\u673a\u5236\uff0c\u9700\u8981\u4f7f\u7528corosync-qdevice\u6765\u914d\u5408\u6295\u7968\u4ef2\u88c1\uff0ccorosync2.0\u7248\u672c\u901a\u8fc7votequorum\u63d0\u4f9b\u6295\u7968\u673a\u5236\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"votequorum\u4e0ecorosync-qdevice",children:"votequorum\u4e0ecorosync-qdevice"}),"\n",(0,s.jsx)(n.p,{children:"votequorum\u548ccorosync-qdevice\u90fd\u662f\u6295\u7968\u4ef2\u88c1\u673a\u5236\u3002"}),"\n",(0,s.jsx)(n.p,{children:"votequorum\u4e0d\u9700\u8981\u5f15\u5165\u7b2c\u4e09\u65b9\u4ef2\u88c1\uff0c\u76f4\u63a5\u4f5c\u4e3a\u4e00\u4e2a\u670d\u52a1\u96c6\u6210\u5230corosync\u4e2d\u3002votequorum\u901a\u8fc7\u4e3a\u96c6\u7fa4\u4e2d\u7684\u6bcf\u4e2a\u7cfb\u7edf\u5206\u914d\u4e00\u5b9a\u6570\u91cf\u7684\u9009\u7968\uff0c\u5e76\u786e\u4fdd\u53ea\u6709\u5f53\u591a\u6570\u7968\u51fa\u73b0\u65f6\uff0c\u624d\u5141\u8bb8\u8fdb\u884c\u96c6\u7fa4\u64cd\u4f5c\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["corosync-qdevice\u9700\u8981\u5f15\u5165\u7b2c\u4e09\u65b9\u4ef2\u88c1qnet\uff0c\u9664\u8fd0\u884ccorosync\u670d\u52a1\u3001corosync-qdevice\u670d\u52a1\u5916\uff0c\u8fd8\u9700\u8981\u5728\u4e00\u53f0\u975e\u96c6\u7fa4\u8282\u70b9\u8fd0\u884ccorosync-qnetd\u670d\u52a1\u3002\u5728\u4ef2\u88c1\u65b9 ",(0,s.jsx)(n.code,{children:"corosync-qnetd"})," \u7684\u534f\u52a9\u4e0b\uff0c",(0,s.jsx)(n.code,{children:"corosync-qdevice"})," \u4f1a\u63d0\u4f9b\u4e00\u4e2a\u53ef\u914d\u7f6e\u7684\u6295\u7968\u6570\uff0c\u4ee5\u4f7f\u7fa4\u96c6\u53ef\u4ee5\u627f\u53d7\u5927\u4e8e\u6807\u51c6\u4ef2\u88c1\u89c4\u5219\u6240\u5141\u8bb8\u7684\u8282\u70b9\u6545\u969c\u6570\u91cf\u3002\u8fd9\u91cc\u7684\u6807\u51c6\u4ef2\u88c1\u89c4\u5219\u662f\u6307\u5f53\u96c6\u7fa4\u8282\u70b9\u6570\u8d85\u8fc7\u4e00\u822c\u6302\u6b7b\u65f6\u96c6\u7fa4\u5c06\u4e0d\u53ef\u7528\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u53cc\u8282\u70b9\u573a\u666f",children:"\u53cc\u8282\u70b9\u573a\u666f"}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u4e8e\u53cc\u8282\u70b9\u573a\u666f\u6765\u8bf4\uff0c"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"votequorum\u901a\u8fc7\u5728corosync.conf\u4e2d\u914d\u7f6etwo_node\u6765\u89e3\u51b3\u53cc\u8282\u70b9\u573a\u666f\u7684\u9ad8\u53ef\u7528\u95ee\u9898\uff0c\u4e14\u8fd9\u6837\u914d\u7f6e\u540e\u53ea\u80fd\u5904\u7406\u4e24\u4e2a\u8282\u70b9\u7684\u60c5\u51b5\uff0c\u5f53\u6709\u7b2c\u4e09\u4e2a\u8282\u70b9\u52a0\u5165\u65f6\uff0ctwo_node\u914d\u7f6e\u81ea\u52a8\u5931\u6548"}),"\n",(0,s.jsx)(n.li,{children:"\u800ccorosync-qdevice\u901a\u8fc7\u5728corosync.conf\u7684device\u914d\u7f6e\u6a21\u5757\u4e2d\u914d\u7f6ealgorithm: ffsplit\u6765\u89e3\u51b3"}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);