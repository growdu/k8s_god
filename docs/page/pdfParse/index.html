<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-page/pdfParse" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">&lt;center&gt;2018-09-25&lt;/center&gt; | 编程之路</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/blog/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/blog/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/blog/docs/page/pdfParse"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="&lt;center&gt;2018-09-25&lt;/center&gt; | 编程之路"><meta data-rh="true" name="description" content="pdf解析"><meta data-rh="true" property="og:description" content="pdf解析"><link data-rh="true" rel="icon" href="/blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/blog/docs/page/pdfParse"><link data-rh="true" rel="alternate" href="https://github.com/blog/docs/page/pdfParse" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://github.com/blog/docs/page/pdfParse" hreflang="x-default"><link rel="stylesheet" href="/blog/assets/css/styles.38da314a.css">
<script src="/blog/assets/js/runtime~main.7a87f3fa.js" defer="defer"></script>
<script src="/blog/assets/js/main.5655fcd3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/docs/intro">k8s修仙指南</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/growdu/k8s_god" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/intro">编程之路</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/how_to_learn_program">&lt;center&gt;如何学习编程&lt;/center&gt;</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/alg/B-树如何使查询更快">alg</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/blog/docs/base/">&lt;center&gt;写在前面&lt;/center&gt;</a><button aria-label="展开侧边栏分类 &#x27;&lt;center&gt;写在前面&lt;/center&gt;&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/chatgpt/chatgpt使用">chatgpt</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/cluster/C语言实现分布式自增有序的唯一ID生成算法-snowflake算法">cluster</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/code/JavaScript-work/">code</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/db/postgresql/part1">db</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/docker/docker_communication_with_host">docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/dpdk/day1">dpdk</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/edit/docusaurus自定义渲染内容">edit</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/es/Search UI with Elasticsearch  Elastic docs --- 使用 Elasticsearch 的搜索用户界面 弹性文档">es</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/faq/faq汇总">faq</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/go_web/">rest api</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/language/C语言内存使用血与泪教训">language</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/linux/centos搭建离线仓库">linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/mail/email编程">mail</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/network/C语言网络编程库选择">network</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/openguass/opengauss dcf搭建 - 墨天轮">openguass</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/blog/docs/page/">&lt;center&gt;说明&lt;/center&gt;</a><button aria-label="折叠侧边栏分类 &#x27;&lt;center&gt;说明&lt;/center&gt;&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/Csharp">Csharp计算线程运行时间</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/devExpress">devExpress控件使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/gui">ubuntu change themes and icons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/how-to-learn-program">&lt;center&gt;如何学习编程&lt;/center&gt;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/java">java 基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/pdf-coordinate">pdf坐标变换</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/pdf">pdf</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/blog/docs/page/pdfParse">&lt;center&gt;2018-09-25&lt;/center&gt;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/python">python notice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/read-pdfbox-source-code">&lt;center&gt;pdfbox源码阅读&lt;/center&gt;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/regexp">&lt;center&gt;正则表达式&lt;/center&gt;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/page/ssh">ssh opreation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/pgsql/PostgreSQL 时间线解析">pgsql</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/programmer_self_cultivation/linux生成coredump">programmer_self_cultivation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/protocol/fib表">protocol</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/road/左耳朵耗子的话——关于技术的一些思考">road</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/storage/nfs详解">storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/blog/docs/tools/">readme</a><button aria-label="展开侧边栏分类 &#x27;readme&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/video_work/video">video_work</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/vpp/cdu_nxp2160_ptp1588v2实现方案">vpp</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/blog/docs/vue/5种回到顶部的写法从实现到增强 - 小火柴的蓝色理想 - 博客园">vue</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/blog/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/blog/docs/page/"><span itemprop="name">&lt;center&gt;说明&lt;/center&gt;</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">&lt;center&gt;2018-09-25&lt;/center&gt;</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1><center>2018-09-25</center></h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pdf解析">pdf解析<a href="#pdf解析" class="hash-link" aria-label="pdf解析的直接链接" title="pdf解析的直接链接">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="根据坐标">根据坐标<a href="#根据坐标" class="hash-link" aria-label="根据坐标的直接链接" title="根据坐标的直接链接">​</a></h4>
<p>根据坐标来判断表格，主要是根据坐标的对应关系，而坐标的对应关系最终落实在单元格起始和结束。</p>
<p>总的来说，表格分为左对齐，右对齐和居中对齐，对于这三种情况都可以归纳为起点坐标相同或者终点坐标相同。</p>
<p>或者，另一个层面来说，是单元格个数相同，且对应单元格的距离相等。即一旦出现超过两行单元格个数相同，或者超过两行（每行每个）单元格起始坐标或结束坐标相同，即将其初步判断为表格。</p>
<p>即，先数个数，再算起始坐标，以及宽度。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pdf解析思路整理">pdf解析思路整理<a href="#pdf解析思路整理" class="hash-link" aria-label="pdf解析思路整理的直接链接" title="pdf解析思路整理的直接链接">​</a></h2>
<p>先将pdf分解，解析到每一个字符，该节点携带了确定该字符的所有信息，（此处图片无法解析）。</p>
<p>每一个字符都携带了其必须的信息后，对其进行建模。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="建模起点宽度高度字符模型">建模——起点+宽度+高度+字符模型<a href="#建模起点宽度高度字符模型" class="hash-link" aria-label="建模——起点+宽度+高度+字符模型的直接链接" title="建模——起点+宽度+高度+字符模型的直接链接">​</a></h2>
<p>如前所述，pdf里的任何对象都是此模型，该模型具有通用性。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="假设">假设<a href="#假设" class="hash-link" aria-label="假设的直接链接" title="假设的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="假设1行划分节点正确">假设1——行划分节点正确<a href="#假设1行划分节点正确" class="hash-link" aria-label="假设1——行划分节点正确的直接链接" title="假设1——行划分节点正确的直接链接">​</a></h3>
<p>假设对每一页pdf的每一行的节点划分都正确，具体为节点个数正确、节点起始坐标、高度、宽度、正确。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="假设2单元格规整">假设2——单元格规整<a href="#假设2单元格规整" class="hash-link" aria-label="假设2——单元格规整的直接链接" title="假设2——单元格规整的直接链接">​</a></h3>
<p>假设单元格规整，即单元格不存在跨行跨列，且每一行个数相同。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="实际情况">实际情况<a href="#实际情况" class="hash-link" aria-label="实际情况的直接链接" title="实际情况的直接链接">​</a></h2>
<p>1.并不是每一行的节点划分都正确。
2.并不是所有行都具有相同的节点数。
3.真正规整的表格较少，绝大多数存在跨行跨列。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="整合折中">整合折中<a href="#整合折中" class="hash-link" aria-label="整合折中的直接链接" title="整合折中的直接链接">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;table&gt;&lt;tr&gt;&lt;td bgcolor=&quot;Khaki&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">但一个表格中至少有相连两行节点数相同，也不存在跨行跨列。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这将作为先判断表格中间行的依据。&lt;/td&gt;&lt;/table&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="判断表格">判断表格<a href="#判断表格" class="hash-link" aria-label="判断表格的直接链接" title="判断表格的直接链接">​</a></h2>
<p>第一遍先计算节点数，当节点数符合条件，计算距离。当两者均满足条件时，确定表格，然后再根据起始点和距离去寻找表格边框。</p>
<h1><center>2018-09-26</center></h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pdf解析-1">pdf解析<a href="#pdf解析-1" class="hash-link" aria-label="pdf解析的直接链接" title="pdf解析的直接链接">​</a></h2>
<p>最终得到page，其内含有三个对象，代码如下：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//存放不根据表格线解析的表格所在的行索引</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">int </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">form</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">new ArrayList</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">int</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//存放根据表格线解析的表格信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Form</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">forms</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">new ArrayList</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Form</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//存放所有的文本内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TextRow</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">new ArrayList</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">TextRow</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="static关键字修饰方法时方便在没有创建对象的情况下来进行调用">static关键字(修饰方法时方便在没有创建对象的情况下来进行调用)<a href="#static关键字修饰方法时方便在没有创建对象的情况下来进行调用" class="hash-link" aria-label="static关键字(修饰方法时方便在没有创建对象的情况下来进行调用)的直接链接" title="static关键字(修饰方法时方便在没有创建对象的情况下来进行调用)的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="static方法">static方法<a href="#static方法" class="hash-link" aria-label="static方法的直接链接" title="static方法的直接链接">​</a></h3>
<blockquote>
<p>static方法就是没有this的方法。在static方法内部不能调用非静态方法，反过来是可以的。而且可以在没有创建任何对象的前提下，仅仅通过类本身来调用static方法。这实际上正是static方法的主要用途。</p>
</blockquote>
<p>static方法不依赖于任何对象就可以进行访问，即非static方法需要先建一个对象才可以进行访问。在static方法中不能访问类的非static成员变量和非static方法，因为非static方法/变量都必须依赖具体的对象才能被调用。但在非static成员方法中可以访问static方法/变量。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="static变量">static变量<a href="#static变量" class="hash-link" aria-label="static变量的直接链接" title="static变量的直接链接">​</a></h3>
<p>static变量被所有的对象所共享，在内存中只有一个副本，它当且仅当在类初次加载时会被初始化。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="final关键字">final关键字<a href="#final关键字" class="hash-link" aria-label="final关键字的直接链接" title="final关键字的直接链接">​</a></h2>
<p>java中，final关键字可以用来修饰类、方法和变量（包括成员变量和局部变量）。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="修饰类">修饰类<a href="#修饰类" class="hash-link" aria-label="修饰类的直接链接" title="修饰类的直接链接">​</a></h3>
<p>final修饰类，表示这个类不能被继承。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="修饰方法">修饰方法<a href="#修饰方法" class="hash-link" aria-label="修饰方法的直接链接" title="修饰方法的直接链接">​</a></h3>
<blockquote>
<p>使用final方法的原因有两个。第一个原因是把方法锁定，以防任何继承类修改它的含义；第二个原因是效率。在早期的Java实现版本中，会将final方法转为内嵌调用。但是如果方法过于庞大，可能看不到内嵌调用带来的任何性能提升。在最近的Java版本中，不需要使用final方法进行这些优化了。</p>
</blockquote>
<p>因此，只有在想明确禁止该方法在子类中被覆盖的情况下才将方法设置为final的。</p>
<p>注：类的private方法会隐式地被指定为final方法。</p>
<h1><center>2018-09-27</center></h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="java-abstract关键字">java abstract关键字<a href="#java-abstract关键字" class="hash-link" aria-label="java abstract关键字的直接链接" title="java abstract关键字的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="抽象方法">抽象方法<a href="#抽象方法" class="hash-link" aria-label="抽象方法的直接链接" title="抽象方法的直接链接">​</a></h3>
<p>1、从上面的例子中我们可以看到抽象方法跟普通方法是有区别的，它没有自己的主体（没有<!-- -->包起来的业务逻辑），跟接口中的方法有点类似。所以我们没法直接调用抽象方法</p>
<p>2、抽象方法不能用private修饰，因为抽象方法必须被子类实现（覆写），而private权限对于子类来说是不能访问的，所以就会产生矛盾</p>
<p>3、抽象方法也不能用static修饰，试想一下，如果用static修饰了，那么我们可以直接通过类名调用，而抽象方法压根就没有主体，没有任何业务逻辑，这样就毫无意义了。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="抽象类">抽象类<a href="#抽象类" class="hash-link" aria-label="抽象类的直接链接" title="抽象类的直接链接">​</a></h3>
<p>1、用abstract关键字来表达的类，其表达形式为：<code>（public）abstract class 类名{}</code>。</p>
<p>2、抽象类不能被实例化，也就是说我们没法直接new 一个抽象类。抽象类本身就代表了一个类型，无法确定为一个具体的对象，所以不能实例化就合乎情理了，只能有它的继承类实例化。</p>
<p>3、抽象类虽然不能被实例化，但有自己的构造方法。</p>
<p>4、抽象类与接口（interface）有很大的不同之处，接口中不能有实例方法去实现业务逻辑，而抽象类中可以有实例方法，并实现业务逻辑，比如我们可以在抽象类中创建和销毁一个线程池。</p>
<p>5、抽象类不能使用finally关键字修饰，因为finally修饰的类是无法被继承，而对于抽象类来说就是需要通过继承去实现抽象方法，这又会产生矛盾。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="抽象类与抽象方法的关联">抽象类与抽象方法的关联<a href="#抽象类与抽象方法的关联" class="hash-link" aria-label="抽象类与抽象方法的关联的直接链接" title="抽象类与抽象方法的关联的直接链接">​</a></h3>
<p>如果一个类中至少有一个抽象方法，那么这个类一定是抽象类，但反之则不然。也就是说一个抽象类中可以没有抽象方法。这样做的目的是为了此类不能被实例化。</p>
<p>如果一个类继承了一个抽象类，那么它必须全部覆写抽象类中的抽象方法，当然也可以不全部覆写，如果不覆写全部抽象方法则这个子类也必须是抽象类。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="java注解">java注解<a href="#java注解" class="hash-link" aria-label="java注解的直接链接" title="java注解的直接链接">​</a></h2>
<p>Java中的注释主要有以下三种：</p>
<ul>
<li>Override</li>
<li>Deprecated</li>
<li>SuppressWarning</li>
</ul>
<p>注释是java代码的元数据（所谓元数据，就是数据的数据。也就是说，元数据存在的意义，就是为了描述数据）。</p>
<p>Override是用来标识当前的方法，是否覆盖了它的父类中的方法。
Deprecated用来标记过时的元素。
SuppressWarning用来阻止警告。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="t-extends-comparable-super-t"><code>&lt;T extends Comparable&lt;? super T\&gt;\&gt;</code><a href="#t-extends-comparable-super-t" class="hash-link" aria-label="t-extends-comparable-super-t的直接链接" title="t-extends-comparable-super-t的直接链接">​</a></h2>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">T</span><span class="token generics"> </span><span class="token generics keyword" style="color:#00009f">extends</span><span class="token generics"> </span><span class="token generics class-name">Comparable</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics operator" style="color:#393A34">?</span><span class="token generics"> </span><span class="token generics keyword" style="color:#00009f">super</span><span class="token generics"> </span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>能调用sort方法进行排序，list中的元素必须是实现了Comparable接口的类或者其子类，通过<code>&lt;T extends Comparable&lt;? super T\&gt;\&gt;</code>来进行限定。</p>
<p>Java采取的是类型擦除的方法来实现泛型，并通过extends和super关键字来约束泛型的上界和下界。</p>
<ul>
<li>
<p>extends关键字用于确定泛型的上界,<code>&lt;A extends B\&gt;</code>表示类B或者其子类。</p>
</li>
<li>
<p>super关键字用于确定泛型的下界，<code>&lt;A super B\&gt;</code>表示类B或者其父类，一直到Object。？则是一个通配符。</p>
</li>
</ul>
<p><code>&lt;T extends Compatable&lt;? super T\&gt;\&gt;</code>表示了上界为实现了Comparable接口的类，<code>&lt;? super T\&gt;</code>则表示实现Comparable接口的类的子类也可以，从而确定下界</p>
<h1><center>2018-09-28</center></h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pdfbox解析说明">pdfbox解析说明<a href="#pdfbox解析说明" class="hash-link" aria-label="pdfbox解析说明的直接链接" title="pdfbox解析说明的直接链接">​</a></h2>
<p>该项目为pdf无表格线解析，具体为将pdf文件转换为XML格式，方便数据入库。</p>
<p>该项目只提取pdf数据，不对表格进行识别。即除了过滤掉部分多余数据外，保留源文件的所有信息。</p>
<p>该项目最终输出XML文件，方便下游识别表格时对数据的读取。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="重点">重点<a href="#重点" class="hash-link" aria-label="重点的直接链接" title="重点的直接链接">​</a></h2>
<p>所需要的数据主要在表格中，具体表现为：</p>
<font color="red"><ul>
<li>資產負債表（资产负债表）</li>
<li>利潤表（利润表）</li>
<li>現金流量表（现金流量表）</li>
<li>財務報表（财务报表）</li>
<li>股東權益變動表（股东权益变动表）</li>
</ul></font>
<p>即主要问题转换为对表格的识别判断以及一些附加数据，附加数据主要包括</p>
<font color="blue"><ul>
<li>表格名称</li>
<li>表格发布的时间日期</li>
</ul></font>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="处理">处理<a href="#处理" class="hash-link" aria-label="处理的直接链接" title="处理的直接链接">​</a></h2>
<p>1.与表格有关的数据必须保留</p>
<ul>
<li>表格名称</li>
<li>表格发布的时间日期</li>
<li>表的具体内容</li>
</ul>
<p>以上数据不能有任何缺失</p>
<p>2.部分多余数据必须删除</p>
<font color="red"><p><del>1.页眉</del></p><p><del>2.页脚</del></p><p><del>3.页码</del></p><p><del>4.下划线</del></p></font>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="操作">操作<a href="#操作" class="hash-link" aria-label="操作的直接链接" title="操作的直接链接">​</a></h2>
<p>综上，主要涉及两部分操作：</p>
<p>1.对于需要保留的数据，需要 <strong>正确划分节点</strong>；</p>
<p>2.正确识别要删除的数据，<strong>不能误删</strong>。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="实现">实现<a href="#实现" class="hash-link" aria-label="实现的直接链接" title="实现的直接链接">​</a></h2>
<p>采用pdfbox的框架解析出字符串后，再对字符串进行上述的处理。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pdfbox解析字符串">pdfbox解析字符串<a href="#pdfbox解析字符串" class="hash-link" aria-label="pdfbox解析字符串的直接链接" title="pdfbox解析字符串的直接链接">​</a></h3>
<p>pdfbox解析的主要类是PDFTextStripper，需要对其中的writeString方法进行重写，重点处理对象为<code>List&lt;TextPosition&gt; textPositions</code>，具体如下：</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">TextPositonExtracter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">PDFTextStripper</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token annotation punctuation" style="color:#393A34">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">protected</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">writeString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">TextPosition</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> textPositions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">throws</span><span class="token plain"> </span><span class="token class-name">IOException</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//textPosition中存放了pdf中每一个字符的坐标，内容，高度，宽度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">TextPosition</span><span class="token plain"> textPosition</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">textPositions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">//具体的处理逻辑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">//包括如何划分节点，如何舍弃多余数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="字符识别节点及删除多余数据">字符识别节点及删除多余数据<a href="#字符识别节点及删除多余数据" class="hash-link" aria-label="字符识别节点及删除多余数据的直接链接" title="字符识别节点及删除多余数据的直接链接">​</a></h3>
<p>目前的节点识别主要包括以下几点：</p>
<font color="red"><p>1.下划线直接删除</p><p>2.根据空格和距离划分节点</p><p>具体为计算第一个空格和最后一个空格的距离，设定一个阀值作为判别依据。</p><p>3.特殊标点符号直接处理</p><p>如顿号、冒号、括号直接合并。</p></font>
<h1><center>2018-09-29</center></h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pdf解析维护调整优化">pdf解析维护、调整、优化<a href="#pdf解析维护调整优化" class="hash-link" aria-label="pdf解析维护、调整、优化的直接链接" title="pdf解析维护、调整、优化的直接链接">​</a></h2>
<p>到目前为止，会出现问题的也只有三个方面：</p>
<ul>
<li>节点划分</li>
<li>表格缺失</li>
<li>页脚页码未去除</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="节点划分出现问题解决方法">节点划分出现问题解决方法<a href="#节点划分出现问题解决方法" class="hash-link" aria-label="节点划分出现问题解决方法的直接链接" title="节点划分出现问题解决方法的直接链接">​</a></h3>
<p>1.特殊标点符号划分基本不会有问题；</p>
<p>2.节点划分一个重要参数就是字符阀值上限，该值是划分节点的主要依据。</p>
<p>该值在TextPositonExtracte类中定义。</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//部分文档解析会误把两个单元格的内容合并到一起,同一个单元格里面内容的最大距离</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//目前调整为14，后续若其他方法无法解决节点划分问题时可对其进行修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">CHARTHRESHOLD</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">//20;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="表格名称误删除问题解决">表格名称误删除问题解决<a href="#表格名称误删除问题解决" class="hash-link" aria-label="表格名称误删除问题解决的直接链接" title="表格名称误删除问题解决的直接链接">​</a></h3>
<p>查看表名称是否在页的顶部，同时查看表名称的关键字是否包含在用于判断的正则表达式中。 对于表名称主要使用TextPositonExtracte类中的isSpecialChinese进行匹配，主要代码如下：</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//可将新的表关键字加入到该匹配序列解决</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token class-name">Pattern</span><span class="token plain"> isSpecialChinese</span><span class="token operator" style="color:#393A34">=</span><span class="token class-name">Pattern</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">compile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;^.*表|^.*損益.*|^.*收益.*|^.*全面.*|^.*財務.*|^.*變動.*|^.*损益.*|^.*收益.*|^.*财务.*|^.*資産.*|&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^.*綜合.*|^.*簡明.*|簡|明|綜|合|損|益|及|其|他|全|面|收|財|務|狀|況|權|變|動|現|金|流|量|简|&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;明|综|财|务|状|况|损|现|权|股|变|动|資|産|產|利|潤|润|併|負|債|東|截|止|年|月|日|[0-9]|料|本|东&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="页脚页码未删除">页脚页码未删除<a href="#页脚页码未删除" class="hash-link" aria-label="页脚页码未删除的直接链接" title="页脚页码未删除的直接链接">​</a></h3>
<p>删除页脚主要判断每一页底部的三行，即筛选出三个最大的Y坐标，对这三个坐标内的字符进行判别。</p>
<p>代码方法为Pragrom类的RemoveFooter。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="java访问权限控制">java访问权限控制<a href="#java访问权限控制" class="hash-link" aria-label="java访问权限控制的直接链接" title="java访问权限控制的直接链接">​</a></h2>
<p>对于类的成员而言，其能否被其他类所访问，取决于该成员的修饰词；而对于一个类而言，其能否被其他类所访问，也取决于该类的修饰词。在Java中，类成员访问权限修饰词有四类：private，无（包访问权限），protected 和 public，而其中只有包访问权限和public才能修饰一个类（内部类除外）。具体如下：</p>
<ul>
<li>public ：被public修饰的类成员能被所有的类直接访问</li>
<li>private：被public修饰的类成员只能在定义它的类中被访问，其他类都访问不到。特别地，我们一般建议将成员变量设为private的，并为外界提供 getter/setter 去对成员变量进行访问，这种做法充分体现了Java的封装思想；</li>
<li>包访问权限：包访问权限就是Java中的默认的权限，具有包访问权限的类成员只能被同一包中的类访问</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="protected关键字">protected关键字<a href="#protected关键字" class="hash-link" aria-label="protected关键字的直接链接" title="protected关键字的直接链接">​</a></h2>
<ul>
<li>基类的protected成员是包内可见的，并且对子类可见；</li>
<li>若子类与基类不在同一包中，那么在子类中，子类实例可以访问其从基类继承而来的protected方法，而不能访问基类实例的protected方法。</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/page/pdfParse.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/docs/page/pdf"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">pdf</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/docs/page/python"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">python notice</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pdf解析" class="table-of-contents__link toc-highlight">pdf解析</a></li><li><a href="#pdf解析思路整理" class="table-of-contents__link toc-highlight">pdf解析思路整理</a></li><li><a href="#建模起点宽度高度字符模型" class="table-of-contents__link toc-highlight">建模——起点+宽度+高度+字符模型</a></li><li><a href="#假设" class="table-of-contents__link toc-highlight">假设</a><ul><li><a href="#假设1行划分节点正确" class="table-of-contents__link toc-highlight">假设1——行划分节点正确</a></li><li><a href="#假设2单元格规整" class="table-of-contents__link toc-highlight">假设2——单元格规整</a></li></ul></li><li><a href="#实际情况" class="table-of-contents__link toc-highlight">实际情况</a></li><li><a href="#整合折中" class="table-of-contents__link toc-highlight">整合折中</a></li><li><a href="#判断表格" class="table-of-contents__link toc-highlight">判断表格</a></li><li><a href="#pdf解析-1" class="table-of-contents__link toc-highlight">pdf解析</a></li><li><a href="#static关键字修饰方法时方便在没有创建对象的情况下来进行调用" class="table-of-contents__link toc-highlight">static关键字(修饰方法时方便在没有创建对象的情况下来进行调用)</a><ul><li><a href="#static方法" class="table-of-contents__link toc-highlight">static方法</a></li><li><a href="#static变量" class="table-of-contents__link toc-highlight">static变量</a></li></ul></li><li><a href="#final关键字" class="table-of-contents__link toc-highlight">final关键字</a><ul><li><a href="#修饰类" class="table-of-contents__link toc-highlight">修饰类</a></li><li><a href="#修饰方法" class="table-of-contents__link toc-highlight">修饰方法</a></li></ul></li><li><a href="#java-abstract关键字" class="table-of-contents__link toc-highlight">java abstract关键字</a><ul><li><a href="#抽象方法" class="table-of-contents__link toc-highlight">抽象方法</a></li><li><a href="#抽象类" class="table-of-contents__link toc-highlight">抽象类</a></li><li><a href="#抽象类与抽象方法的关联" class="table-of-contents__link toc-highlight">抽象类与抽象方法的关联</a></li></ul></li><li><a href="#java注解" class="table-of-contents__link toc-highlight">java注解</a></li><li><a href="#t-extends-comparable-super-t" class="table-of-contents__link toc-highlight"><code>&lt;T extends Comparable&lt;? super T\&gt;\&gt;</code></a></li><li><a href="#pdfbox解析说明" class="table-of-contents__link toc-highlight">pdfbox解析说明</a></li><li><a href="#重点" class="table-of-contents__link toc-highlight">重点</a></li><li><a href="#处理" class="table-of-contents__link toc-highlight">处理</a></li><li><a href="#操作" class="table-of-contents__link toc-highlight">操作</a></li><li><a href="#实现" class="table-of-contents__link toc-highlight">实现</a><ul><li><a href="#pdfbox解析字符串" class="table-of-contents__link toc-highlight">pdfbox解析字符串</a></li><li><a href="#字符识别节点及删除多余数据" class="table-of-contents__link toc-highlight">字符识别节点及删除多余数据</a></li></ul></li><li><a href="#pdf解析维护调整优化" class="table-of-contents__link toc-highlight">pdf解析维护、调整、优化</a><ul><li><a href="#节点划分出现问题解决方法" class="table-of-contents__link toc-highlight">节点划分出现问题解决方法</a></li><li><a href="#表格名称误删除问题解决" class="table-of-contents__link toc-highlight">表格名称误删除问题解决</a></li><li><a href="#页脚页码未删除" class="table-of-contents__link toc-highlight">页脚页码未删除</a></li></ul></li><li><a href="#java访问权限控制" class="table-of-contents__link toc-highlight">java访问权限控制</a></li><li><a href="#protected关键字" class="table-of-contents__link toc-highlight">protected关键字</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 growdu, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>